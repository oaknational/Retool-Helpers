<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Mocha Tests</title>
    <link rel="stylesheet" href="https://unpkg.com/mocha/mocha.css" />
  </head>
  <body>
    <div id="mocha"></div>

    <script type="module" src="https://unpkg.com/chai/chai.js"></script>
    <script type="module" src="https://unpkg.com/mocha/mocha.js"></script>

    <script type="module" class="mocha-init">
      mocha.setup("bdd");
      mocha.checkLeaks();
    </script>
    <!-- Using the ES Module -->
    <script type="module">
      import { slugify } from "../lib/esm/index.js";
      describes("ESM", () => {
        describe("slugify", () => {
          it("slugifies a string", () => {
            chai.assert(slugify("This is a test"), "this-is-a-test");
          });
        });
      });
    </script>
    <!--
      Using the bundled code, loads the `oakRetoolHelper`
      object into the global scope.
    -->
    <script type="module" src="../lib/bundle/index.js"></script>
    <script type="module">
      describe("OakRetoolHelpers", () => {
        describe("slugify", () => {
          it("slugifies a string", () => {
            chai.assert(
              OakRetoolHelpers.slugify("This is a test"),
              "this-is-a-test"
            );
          });
          it("handles special characters", () => {
            chai.assert(
              OakRetoolHelpers.slugify(
                "  ©𝄢𝄫🎵 Hello World µ˜∫√ ≈ & ćøḿṕæňÿ …ƒ´¬∂∑≈¬¬¬¬¬¬ --- "
              ),
              "hello-world-and-company"
            );
          });
        });
      });
    </script>
    <script type="module" class="mocha-exec">
      mocha.run();
    </script>
  </body>
</html>
